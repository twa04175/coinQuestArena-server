System.register("chunks:///_virtual/AreaAttack.ts",["./rollupPluginModLoBabelHelpers.js","cc"],(function(t){var e,i,r,a,o,n,c,l,p,s,u;return{setters:[function(t){e=t.applyDecoratedDescriptor,i=t.inheritsLoose,r=t.initializerDefineProperty,a=t.assertThisInitialized},function(t){o=t.cclegacy,n=t._decorator,c=t.Sprite,l=t.UITransform,p=t.BoxCollider2D,s=t.Size,u=t.Component}],execute:function(){var f,d,h,y,k,S,m,v,b,A,g;o._RF.push({},"078ddirSg5E5ZJ1DBV/4yB5","AreaAttack",void 0);var z=n.ccclass,w=n.property;t("AreaAttack",(f=z("AreaAttack"),d=w({type:c}),h=w({type:c}),y=w({type:l}),k=w({type:p}),f((v=e((m=function(t){function e(){for(var e,i=arguments.length,o=new Array(i),n=0;n<i;n++)o[n]=arguments[n];return e=t.call.apply(t,[this].concat(o))||this,r(e,"preAttackSprite",v,a(e)),r(e,"attackSprite",b,a(e)),r(e,"transform",A,a(e)),r(e,"coll",g,a(e)),e}i(e,t);var o=e.prototype;return o.attack=function(t,e,i){var r=this;this.preAttackSprite.node.active=!0,this.attackSprite.node.active=!1,this.updateColliderSize(),this.node.setPosition(e),this.node.setRotationFromEuler(i),setTimeout((function(){r.preAttackSprite.node.active=!1,r.attackSprite.node.active=!0,setTimeout((function(){r.attackSprite.node.active=!1}),200)}),t)},o.updateColliderSize=function(){var t=this.transform.width,e=this.transform.height;this.coll.size=new s(t,e)},e}(u)).prototype,"preAttackSprite",[d],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),b=e(m.prototype,"attackSprite",[h],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),A=e(m.prototype,"transform",[y],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),g=e(m.prototype,"coll",[k],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),S=m))||S));o._RF.pop()}}}));

System.register("chunks:///_virtual/BombEffect.ts",["./rollupPluginModLoBabelHelpers.js","cc","./ObjectPoolManager.ts"],(function(t){var o,e,n,i,a,c,s,r;return{setters:[function(t){o=t.inheritsLoose},function(t){e=t.cclegacy,n=t._decorator,i=t.UIOpacity,a=t.tween,c=t.Vec3,s=t.Component},function(t){r=t.ObjectPoolManager}],execute:function(){var p;e._RF.push({},"59d1eiscR9MZpj/nkmv+Pgd","BombEffect",void 0);var l=n.ccclass;n.property,t("BombEffect",l("BombEffect")(p=function(t){function e(){for(var o,e=arguments.length,n=new Array(e),i=0;i<e;i++)n[i]=arguments[i];return(o=t.call.apply(t,[this].concat(n))||this).targetScale=2,o.growDuration=.3,o.fadeDuration=.2,o._originalScale=new c(1,1,1),o._opacityComp=null,o}o(e,t);var n=e.prototype;return n.onEnable=function(){this._originalScale.set(this.node.scale),this.ensureOpacityComponent(),this.node.setScale(this._originalScale),this._opacityComp.opacity=255,this.playExplosionEffect()},n.ensureOpacityComponent=function(){this._opacityComp||(this._opacityComp=this.node.getComponent(i),this._opacityComp||(this._opacityComp=this.node.addComponent(i)))},n.playExplosionEffect=function(){var t=this,o=this.growDuration,e=this.fadeDuration,n=this.targetScale;a(this.node).to(o,{scale:new c(n,n,n)},{easing:"backOut"}).call((function(){a(t._opacityComp).to(e,{opacity:0}).call((function(){return t.returnToPool()})).start()})).start()},n.returnToPool=function(){this.node.setScale(this._originalScale),this._opacityComp.opacity=255,r.instance.release(this.node)},e}(s))||p);e._RF.pop()}}}));

System.register("chunks:///_virtual/Character.ts",["./rollupPluginModLoBabelHelpers.js","cc","./GameManager.ts","./ObjectPoolManager.ts","./TextEffect.ts","./SoundManager.ts"],(function(t){var e,n,o,i,r,a,c,l,s,u,p,f,h,C;return{setters:[function(t){e=t.applyDecoratedDescriptor,n=t.inheritsLoose,o=t.initializerDefineProperty,i=t.assertThisInitialized},function(t){r=t.cclegacy,a=t._decorator,c=t.CircleCollider2D,l=t.Contact2DType,s=t.Component},function(t){u=t.GameManager},function(t){p=t.ObjectPoolManager},function(t){f=t.TextEffect},function(t){h=t.SoundManager,C=t.Sfx}],execute:function(){var g,d,y,v,b;r._RF.push({},"000e7F7t35DKZ/Gr+xcMnJE","Character",void 0);var M=a.ccclass,T=a.property;t("Character",(g=M("Character"),d=T({type:c}),g((b=e((v=function(t){function e(){for(var e,n=arguments.length,r=new Array(n),a=0;a<n;a++)r[a]=arguments[a];return e=t.call.apply(t,[this].concat(r))||this,o(e,"collider",b,i(e)),e}n(e,t);var r=e.prototype;return r.onEnable=function(){var t;null==(t=this.collider)||t.on(l.BEGIN_CONTACT,this.onBeginContact,this)},r.onDisable=function(){var t;null==(t=this.collider)||t.off(l.BEGIN_CONTACT,this.onBeginContact,this)},r.onBeginContact=function(t,e){u.instance.hitHp(10),p.instance.acquire("text",this.node.parent,this.node.position).getComponent(f).show("-10 HP"),h.instance.playSfx(C.HitE)},e}(s)).prototype,"collider",[d],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),y=v))||y));r._RF.pop()}}}));

System.register("chunks:///_virtual/ComboEffect.ts",["./rollupPluginModLoBabelHelpers.js","cc","./ObjectPoolManager.ts"],(function(t){var o,e,r,n,i,a,c,l,s,p,u,b,f,h;return{setters:[function(t){o=t.applyDecoratedDescriptor,e=t.inheritsLoose,r=t.initializerDefineProperty,n=t.assertThisInitialized},function(t){i=t.cclegacy,a=t._decorator,c=t.Label,l=t.UIOpacity,s=t.Tween,p=t.tween,u=t.v3,b=t.Color,f=t.Component},function(t){h=t.ObjectPoolManager}],execute:function(){var y,m,g,C,v,d,w;i._RF.push({},"e2e07DzL1BHTo3YVjgxwezg","ComboEffect",void 0);var L=a.ccclass,M=a.property;t("ComboEffect",(y=L("ComboEffect"),m=M({type:c}),g=M({type:l}),y((d=o((v=function(t){function o(){for(var o,e=arguments.length,i=new Array(e),a=0;a<e;a++)i[a]=arguments[a];return o=t.call.apply(t,[this].concat(i))||this,r(o,"comboLabel",d,n(o)),r(o,"opacity",w,n(o)),o}e(o,t);var i=o.prototype;return i.onCombo=function(t){var o=this;this.comboLabel&&(this.comboLabel.string="Combo "+t,this.comboLabel.color=this.getComboColor(t),s.stopAllByTarget(this.node),s.stopAllByTarget(this.opacity),this.node.setScale(0,0,1),this.opacity.opacity=0,p(this.node).to(.25,{scale:u(1,1,1)},{easing:"backOut"}).start(),p(this.opacity).to(.18,{opacity:255}).start(),this.scheduleOnce((function(){p(o.opacity).to(.25,{opacity:0}).call((function(){h.instance.release(o.node)})).start()}),1))},i.getComboColor=function(t){var o=(Math.max(1,Math.min(100,Math.floor(t)))-1)/99,e=new b(0,220,120,255),r=new b(255,220,0,255),n=new b(255,60,60,255);if(o<=.5){var i=o/.5;return this.lerpColor(e,r,i)}var a=(o-.5)/.5;return this.lerpColor(r,n,a)},i.lerpColor=function(t,o,e){var r=function(t,o){return Math.round(t+(o-t)*e)};return new b(r(t.r,o.r),r(t.g,o.g),r(t.b,o.b),255)},o}(f)).prototype,"comboLabel",[m],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),w=o(v.prototype,"opacity",[g],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),C=v))||C));i._RF.pop()}}}));

System.register("chunks:///_virtual/debug-view-runtime-control.ts",["./rollupPluginModLoBabelHelpers.js","cc"],(function(t){var e,o,i,n,s,l,r,a,g,h,p,c,C,d,m,u,L;return{setters:[function(t){e=t.applyDecoratedDescriptor,o=t.inheritsLoose,i=t.initializerDefineProperty,n=t.assertThisInitialized},function(t){s=t.cclegacy,l=t._decorator,r=t.Node,a=t.Color,g=t.Canvas,h=t.UITransform,p=t.instantiate,c=t.Label,C=t.RichText,d=t.Toggle,m=t.Button,u=t.director,L=t.Component}],execute:function(){var f,M,b,v,T,S,x,E,I;s._RF.push({},"b2bd1+njXxJxaFY3ymm06WU","debug-view-runtime-control",void 0);var A=l.ccclass,y=l.property;t("DebugViewRuntimeControl",(f=A("internal.DebugViewRuntimeControl"),M=y(r),b=y(r),v=y(r),f((x=e((S=function(t){function e(){for(var e,o=arguments.length,s=new Array(o),l=0;l<o;l++)s[l]=arguments[l];return e=t.call.apply(t,[this].concat(s))||this,i(e,"compositeModeToggle",x,n(e)),i(e,"singleModeToggle",E,n(e)),i(e,"EnableAllCompositeModeButton",I,n(e)),e._single=0,e.strSingle=["No Single Debug","Vertex Color","Vertex Normal","Vertex Tangent","World Position","Vertex Mirror","Face Side","UV0","UV1","UV Lightmap","Project Depth","Linear Depth","Fragment Normal","Fragment Tangent","Fragment Binormal","Base Color","Diffuse Color","Specular Color","Transparency","Metallic","Roughness","Specular Intensity","IOR","Direct Diffuse","Direct Specular","Direct All","Env Diffuse","Env Specular","Env All","Emissive","Light Map","Shadow","AO","Fresnel","Direct Transmit Diffuse","Direct Transmit Specular","Env Transmit Diffuse","Env Transmit Specular","Transmit All","Direct Internal Specular","Env Internal Specular","Internal All","Fog"],e.strComposite=["Direct Diffuse","Direct Specular","Env Diffuse","Env Specular","Emissive","Light Map","Shadow","AO","Normal Map","Fog","Tone Mapping","Gamma Correction","Fresnel","Transmit Diffuse","Transmit Specular","Internal Specular","TT"],e.strMisc=["CSM Layer Coloration","Lighting With Albedo"],e.compositeModeToggleList=[],e.singleModeToggleList=[],e.miscModeToggleList=[],e.textComponentList=[],e.labelComponentList=[],e.textContentList=[],e.hideButtonLabel=void 0,e._currentColorIndex=0,e.strColor=["<color=#ffffff>","<color=#000000>","<color=#ff0000>","<color=#00ff00>","<color=#0000ff>"],e.color=[a.WHITE,a.BLACK,a.RED,a.GREEN,a.BLUE],e}o(e,t);var s=e.prototype;return s.start=function(){if(this.node.parent.getComponent(g)){var t=this.node.parent.getComponent(h),e=.5*t.width,o=.5*t.height,i=.1*e-e,n=o-.1*o,s=this.node.getChildByName("MiscMode"),l=p(s);l.parent=this.node,l.name="Buttons";var r=p(s);r.parent=this.node,r.name="Titles";for(var u=0;u<2;u++){var L=p(this.EnableAllCompositeModeButton.getChildByName("Label"));L.setPosition(i+(u>0?450:150),n,0),L.setScale(.75,.75,.75),L.parent=r;var f=L.getComponent(c);f.string=u?"----------Composite Mode----------":"----------Single Mode----------",f.color=a.WHITE,f.overflow=0,this.labelComponentList[this.labelComponentList.length]=f}n-=20;for(var M=0,b=0;b<this.strSingle.length;b++,M++){b===this.strSingle.length>>1&&(i+=200,M=0);var v=b?p(this.singleModeToggle):this.singleModeToggle;v.setPosition(i,n-20*M,0),v.setScale(.5,.5,.5),v.parent=this.singleModeToggle.parent;var T=v.getComponentInChildren(C);T.string=this.strSingle[b],this.textComponentList[this.textComponentList.length]=T,this.textContentList[this.textContentList.length]=T.string,v.on(d.EventType.TOGGLE,this.toggleSingleMode,this),this.singleModeToggleList[b]=v}i+=200,this.EnableAllCompositeModeButton.setPosition(i+15,n,0),this.EnableAllCompositeModeButton.setScale(.5,.5,.5),this.EnableAllCompositeModeButton.on(m.EventType.CLICK,this.enableAllCompositeMode,this),this.EnableAllCompositeModeButton.parent=l;var S=this.EnableAllCompositeModeButton.getComponentInChildren(c);this.labelComponentList[this.labelComponentList.length]=S;var x=p(this.EnableAllCompositeModeButton);x.setPosition(i+90,n,0),x.setScale(.5,.5,.5),x.on(m.EventType.CLICK,this.changeTextColor,this),x.parent=l,(S=x.getComponentInChildren(c)).string="TextColor",this.labelComponentList[this.labelComponentList.length]=S;var E=p(this.EnableAllCompositeModeButton);E.setPosition(i+200,n,0),E.setScale(.5,.5,.5),E.on(m.EventType.CLICK,this.hideUI,this),E.parent=this.node.parent,(S=E.getComponentInChildren(c)).string="Hide UI",this.labelComponentList[this.labelComponentList.length]=S,this.hideButtonLabel=S,n-=40;for(var I=0;I<this.strMisc.length;I++){var A=p(this.compositeModeToggle);A.setPosition(i,n-20*I,0),A.setScale(.5,.5,.5),A.parent=s;var y=A.getComponentInChildren(C);y.string=this.strMisc[I],this.textComponentList[this.textComponentList.length]=y,this.textContentList[this.textContentList.length]=y.string,A.getComponent(d).isChecked=!!I,A.on(d.EventType.TOGGLE,I?this.toggleLightingWithAlbedo:this.toggleCSMColoration,this),this.miscModeToggleList[I]=A}n-=150;for(var D=0;D<this.strComposite.length;D++){var B=D?p(this.compositeModeToggle):this.compositeModeToggle;B.setPosition(i,n-20*D,0),B.setScale(.5,.5,.5),B.parent=this.compositeModeToggle.parent;var w=B.getComponentInChildren(C);w.string=this.strComposite[D],this.textComponentList[this.textComponentList.length]=w,this.textContentList[this.textContentList.length]=w.string,B.on(d.EventType.TOGGLE,this.toggleCompositeMode,this),this.compositeModeToggleList[D]=B}}else console.error("debug-view-runtime-control should be child of Canvas")},s.isTextMatched=function(t,e){var o=new String(t),i=o.search(">");return-1===i?t===e:(o=(o=o.substr(i+1)).substr(0,o.search("<")))===e},s.toggleSingleMode=function(t){for(var e=u.root.debugView,o=t.getComponentInChildren(C),i=0;i<this.strSingle.length;i++)this.isTextMatched(o.string,this.strSingle[i])&&(e.singleMode=i)},s.toggleCompositeMode=function(t){for(var e=u.root.debugView,o=t.getComponentInChildren(C),i=0;i<this.strComposite.length;i++)this.isTextMatched(o.string,this.strComposite[i])&&e.enableCompositeMode(i,t.isChecked)},s.toggleLightingWithAlbedo=function(t){u.root.debugView.lightingWithAlbedo=t.isChecked},s.toggleCSMColoration=function(t){u.root.debugView.csmLayerColoration=t.isChecked},s.enableAllCompositeMode=function(t){var e=u.root.debugView;e.enableAllCompositeMode(!0);for(var o=0;o<this.compositeModeToggleList.length;o++){this.compositeModeToggleList[o].getComponent(d).isChecked=!0}var i=this.miscModeToggleList[0].getComponent(d);i.isChecked=!1,e.csmLayerColoration=!1,(i=this.miscModeToggleList[1].getComponent(d)).isChecked=!0,e.lightingWithAlbedo=!0},s.hideUI=function(t){var e=this.node.getChildByName("Titles"),o=!e.active;this.singleModeToggleList[0].parent.active=o,this.miscModeToggleList[0].parent.active=o,this.compositeModeToggleList[0].parent.active=o,this.EnableAllCompositeModeButton.parent.active=o,e.active=o,this.hideButtonLabel.string=o?"Hide UI":"Show UI"},s.changeTextColor=function(t){this._currentColorIndex++,this._currentColorIndex>=this.strColor.length&&(this._currentColorIndex=0);for(var e=0;e<this.textComponentList.length;e++)this.textComponentList[e].string=this.strColor[this._currentColorIndex]+this.textContentList[e]+"</color>";for(var o=0;o<this.labelComponentList.length;o++)this.labelComponentList[o].color=this.color[this._currentColorIndex]},s.onLoad=function(){},s.update=function(t){},e}(L)).prototype,"compositeModeToggle",[M],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),E=e(S.prototype,"singleModeToggle",[b],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),I=e(S.prototype,"EnableAllCompositeModeButton",[v],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),T=S))||T));s._RF.pop()}}}));

System.register("chunks:///_virtual/DropNode.ts",["./rollupPluginModLoBabelHelpers.js","cc","./GameManager.ts","./ObjectPoolManager.ts"],(function(e){var t,n,i,o,r,s,a,c,p,l,u;return{setters:[function(e){t=e.applyDecoratedDescriptor,n=e.inheritsLoose,i=e.initializerDefineProperty,o=e.assertThisInitialized},function(e){r=e.cclegacy,s=e._decorator,a=e.Sprite,c=e.Component},function(e){p=e.GameManager,l=e.GameState},function(e){u=e.ObjectPoolManager}],execute:function(){var h,d,f,g,y;r._RF.push({},"871b2UDnbZBub5nms8BJrnR","DropNode",void 0);var m=s.ccclass,b=s.property;e("DropNode",(h=m("DropNode"),d=b({type:a}),h((y=t((g=function(e){function t(){for(var t,n=arguments.length,r=new Array(n),s=0;s<n;s++)r[s]=arguments[s];return t=e.call.apply(e,[this].concat(r))||this,i(t,"icon",y,o(t)),t.speed=0,t.dropHeight=0,t}n(t,e);var r=t.prototype;return r.init=function(e,t){this.speed=p.instance.dropSpeed,this.dropHeight=-(t-15),this.node.setPosition(this.node.position.x,-15),this.icon.spriteFrame=e},r.update=function(e){p.instance.gameState===l.InGame&&(this.node.setPosition(this.node.position.x,this.node.position.y-this.speed*e),this.node.position.y<this.dropHeight&&(p.instance.hitHp(5),this.clean()))},r.clean=function(){u.instance.release(this.node)},r.match=function(){p.instance.plusScore(10),this.clean()},t}(c)).prototype,"icon",[d],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),f=g))||f));r._RF.pop()}}}));

System.register("chunks:///_virtual/GameManager.ts",["./rollupPluginModLoBabelHelpers.js","cc","./Timer.ts","./ScoreLabel.ts","./HpBar.ts","./RhythmZone.ts","./MovingZone.ts","./SoundManager.ts"],(function(e){var t,n,i,a,r,s,o,u,c,l,p,h,m,f,b,y,g,d,v,M;return{setters:[function(e){t=e.applyDecoratedDescriptor,n=e.inheritsLoose,i=e.initializerDefineProperty,a=e.assertThisInitialized,r=e.createClass},function(e){s=e.cclegacy,o=e._decorator,u=e.Node,c=e.Label,l=e.input,p=e.Input,h=e.KeyCode,m=e.Component},function(e){f=e.Timer},function(e){b=e.ScoreLabel},function(e){y=e.HpBar},function(e){g=e.RhythmZone},function(e){d=e.MovingZone},function(e){v=e.SoundManager,M=e.Bgm}],execute:function(){var G,S,H,L,C,B,E,w,z,I,_,D,R,P,N,T,x,k,K,Z;s._RF.push({},"e1c04EjlkBGCIIvj3IdReKA","GameManager",void 0);var j=o.ccclass,A=o.property,F=e("GameState",function(e){return e[e.MainMenu=0]="MainMenu",e[e.InGame=1]="InGame",e[e.Pause=2]="Pause",e[e.Guide=3]="Guide",e[e.Result=4]="Result",e}({}));e("MoveDifficulty",function(e){return e[e.Easy=0]="Easy",e[e.Normal=1]="Normal",e[e.Hard=2]="Hard",e}({})),e("RhythmDifficulty",function(e){return e[e.Easy=0]="Easy",e[e.Normal=1]="Normal",e[e.Hard=2]="Hard",e}({})),e("GameManager",(G=j("GameManager"),S=A({type:u}),H=A({type:u}),L=A({type:u}),C=A({type:u}),B=A({type:f}),E=A({type:b}),w=A({type:c}),z=A({type:y}),G(((Z=function(e){function t(){for(var t,n=arguments.length,r=new Array(n),s=0;s<n;s++)r[s]=arguments[s];return(t=e.call.apply(e,[this].concat(r))||this).dropSpeed=150,t.patternDelay=1,t.charMoveSpeed=300,i(t,"mainMenu",D,a(t)),i(t,"inGame",R,a(t)),i(t,"result",P,a(t)),i(t,"pause",N,a(t)),i(t,"timer",T,a(t)),i(t,"scoreLabel",x,a(t)),i(t,"resultLabel",k,a(t)),i(t,"hpBar",K,a(t)),t.gameState=F.MainMenu,t.score=0,t.hp=100,t.maxHp=100,t.conceptCombo=0,t}n(t,e);var s=t.prototype;return s.onLoad=function(){void 0===t._instance&&(t._instance=this),console.log("GameManager onLoad")},s.onEnable=function(){l.on(p.EventType.KEY_DOWN,this.systemHandler,this)},s.onDisable=function(){l.off(p.EventType.KEY_DOWN,this.systemHandler,this)},s.start=function(){this.inGame.active=!1,this.mainMenu.active=!0,this.result.active=!1,this.pause.active=!1},s.startGame=function(){this.score=0,this.hp=100,this.maxHp=100,this.conceptCombo=0,this.mainMenu.active=!1,this.result.active=!1,this.inGame.active=!0,this.pause.active=!1,this.scoreLabel.updateScore(this.score),this.hpBar.updateHp(this.hp,this.maxHp),this.timer.runTimer(3)},s.hitHp=function(e){this.hp-=e,this.hp<0&&(this.hp=0),this.hpBar.updateHp(this.hp,this.maxHp),0===this.hp&&this.endGame()},s.plusScore=function(e){this.score+=e,this.scoreLabel.updateScore(this.score)},s.endGame=function(){this.gameState=F.Result,this.result.active=!0,this.resultLabel.string=this.score.toLocaleString()+" 점",g.instance.clear(),d.instance.clear()},s.gotoMainMenu=function(){this.gameState=F.MainMenu,this.result.active=!1,this.inGame.active=!1,this.pause.active=!1,this.mainMenu.active=!0,v.instance.playBgm(M.MainMenu)},s.pauseGame=function(){this.gameState===F.InGame&&(this.gameState=F.Pause,this.pause.active=!0,v.instance.pauseBgm())},s.resumeGame=function(){this.gameState===F.Pause&&(this.gameState=F.InGame,this.pause.active=!1,v.instance.resumeBgm())},s.systemHandler=function(e){switch(e.keyCode){case h.ESCAPE:this.gameState===F.InGame?this.pauseGame():this.gameState===F.Pause&&this.resumeGame()}},s.addConceptCombo=function(){return this.plusScore(100*(this.conceptCombo+1)),++this.conceptCombo},s.resetCombo=function(){this.conceptCombo=0},r(t,null,[{key:"instance",get:function(){return this._instance}}]),t}(m))._instance=void 0,D=t((_=Z).prototype,"mainMenu",[S],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),R=t(_.prototype,"inGame",[H],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),P=t(_.prototype,"result",[L],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),N=t(_.prototype,"pause",[C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),T=t(_.prototype,"timer",[B],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),x=t(_.prototype,"scoreLabel",[E],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),k=t(_.prototype,"resultLabel",[w],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),K=t(_.prototype,"hpBar",[z],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),I=_))||I));s._RF.pop()}}}));

System.register("chunks:///_virtual/HpBar.ts",["./rollupPluginModLoBabelHelpers.js","cc"],(function(t){var r,n,e,i,a,o,s,l,u,p,c;return{setters:[function(t){r=t.applyDecoratedDescriptor,n=t.inheritsLoose,e=t.initializerDefineProperty,i=t.assertThisInitialized},function(t){a=t.cclegacy,o=t._decorator,s=t.Label,l=t.ProgressBar,u=t.tween,p=t.clamp01,c=t.Component}],execute:function(){var h,b,f,_,m,g,d,H,I,w,y;a._RF.push({},"17a5fUrXBRK26tPpOj1N6fJ","HpBar",void 0);var M=o.ccclass,x=o.property;t("HpBar",(h=M("HpBar"),b=x({type:s}),f=x({type:l}),_=x({tooltip:"HP가 목표까지 애니메이션되는 시간(초)"}),m=x({tooltip:"숫자를 반올림해 정수로 표시"}),h((H=r((d=function(t){function r(){for(var r,n=arguments.length,a=new Array(n),o=0;o<n;o++)a[o]=arguments[o];return r=t.call.apply(t,[this].concat(a))||this,e(r,"lblHp",H,i(r)),e(r,"bar",I,i(r)),e(r,"duration",w,i(r)),e(r,"roundToInt",y,i(r)),r._curHp=0,r._curMax=1,r._tweenInst=null,r}n(r,t);var a=r.prototype;return a.updateHp=function(t,r){var n=this;r=Math.max(1,r),t=Math.min(Math.max(0,t),r),this._tweenInst&&(this._tweenInst.stop(),this._tweenInst=null);var e={hp:this._curHp,max:this._curMax,prog:this.bar?this.bar.progress:0},i=t/r;this._tweenInst=u(e).to(this.duration,{hp:t,max:r,prog:i},{easing:"quadOut",onUpdate:function(){n.bar&&(n.bar.progress=p(e.prog));var t=n.roundToInt?Math.round(e.hp):e.hp,r=n.roundToInt?Math.round(e.max):e.max;n.lblHp&&(n.lblHp.string=n._fmt(t)+"/"+n._fmt(r))}}).call((function(){n._curHp=t,n._curMax=r,n.bar&&(n.bar.progress=p(i)),n.lblHp&&(n.lblHp.string=n._fmt(t)+"/"+n._fmt(r)),n._tweenInst=null})).start()},a.setImmediate=function(t,r){this._tweenInst&&(this._tweenInst.stop(),this._tweenInst=null),r=Math.max(1,r),t=Math.min(Math.max(0,t),r),this._curHp=t,this._curMax=r,this.bar&&(this.bar.progress=t/r),this.lblHp&&(this.lblHp.string=this._fmt(t)+"/"+this._fmt(r))},a._fmt=function(t){return this.roundToInt?Math.round(t).toLocaleString():t.toLocaleString()},r}(c)).prototype,"lblHp",[b],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),I=r(d.prototype,"bar",[f],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),w=r(d.prototype,"duration",[_],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return.5}}),y=r(d.prototype,"roundToInt",[m],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!0}}),g=d))||g));a._RF.pop()}}}));

System.register("chunks:///_virtual/InfinityEffect.ts",["./rollupPluginModLoBabelHelpers.js","cc"],(function(t){var e,i,n,r,o,a,l,s,c;return{setters:[function(t){e=t.applyDecoratedDescriptor,i=t.inheritsLoose,n=t.initializerDefineProperty,r=t.assertThisInitialized},function(t){o=t.cclegacy,a=t._decorator,l=t.ParticleSystem2D,s=t.warn,c=t.Component}],execute:function(){var u,p,d,h,f,y,m,b,g,D,v,C,S,x,P;o._RF.push({},"fd02eGjmohI+qhDG+e4jdD/","InfinityEffect",void 0);var w=a.ccclass,z=a.property;t("InfinityEffect",(u=w("InfinityEffect"),p=z({type:l,tooltip:"이 노드의 ParticleSystem2D(비워두면 자동으로 탐색)"}),d=z({tooltip:"루프 활성화(Off면 동작하지 않음)"}),h=z({tooltip:"사이클 종료 후 재시작까지 고정 지연(초)"}),f=z({tooltip:"사이클 종료 후 추가 랜덤 지연(0~값, 초)"}),y=z({tooltip:"계산 오차 대비 여유 시간(초)"}),m=z({tooltip:"duration이 -1 등으로 계산 불가일 때 사용할 대체 사이클 길이(초)"}),u((D=e((g=function(t){function e(){for(var e,i=arguments.length,o=new Array(i),a=0;a<i;a++)o[a]=arguments[a];return e=t.call.apply(t,[this].concat(o))||this,n(e,"ps2d",D,r(e)),n(e,"loop",v,r(e)),n(e,"restartDelay",C,r(e)),n(e,"restartDelayRandom",S,r(e)),n(e,"timerPadding",x,r(e)),n(e,"fallbackCycleSeconds",P,r(e)),e._scheduled=!1,e}i(e,t);var o=e.prototype;return o.onLoad=function(){this.ps2d||(this.ps2d=this.getComponent(l)),this.ps2d?!0===this.ps2d.autoRemoveOnFinish&&(this.ps2d.autoRemoveOnFinish=!1):s("[InfinityEffect] ParticleSystem2D가 없습니다.")},o.onEnable=function(){this.ps2d&&this.loop&&(this.ps2d.resetSystem(),this.scheduleNextCycle())},o.onDisable=function(){this.unscheduleAllCallbacks(),this._scheduled=!1},o.computeCycleSeconds=function(){var t,e,i;if(!this.ps2d)return this.fallbackCycleSeconds;var n=null!=(t=this.ps2d.duration)?t:0,r=null!=(e=this.ps2d.life)?e:.5,o=null!=(i=this.ps2d.lifeVar)?i:0;return n<=0?this.fallbackCycleSeconds+this.timerPadding:Math.max(0,n)+Math.max(.01,r)+Math.max(0,o)+this.timerPadding},o.scheduleNextCycle=function(){var t=this;if(this.loop&&this.ps2d){var e=this.computeCycleSeconds(),i=Math.random()*Math.max(0,this.restartDelayRandom),n=Math.max(.01,this.restartDelay)+e+i;this._scheduled=!0,this.scheduleOnce((function(){t.loop&&t.ps2d&&(t.ps2d.resetSystem(),t.scheduleNextCycle())}),n)}},e}(c)).prototype,"ps2d",[p],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),v=e(g.prototype,"loop",[d],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!0}}),C=e(g.prototype,"restartDelay",[h],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 0}}),S=e(g.prototype,"restartDelayRandom",[f],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 0}}),x=e(g.prototype,"timerPadding",[y],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return.15}}),P=e(g.prototype,"fallbackCycleSeconds",[m],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 1.5}}),b=g))||b));o._RF.pop()}}}));

System.register("chunks:///_virtual/main",["./debug-view-runtime-control.ts","./AreaAttack.ts","./BombEffect.ts","./Character.ts","./ComboEffect.ts","./DropNode.ts","./GameManager.ts","./HpBar.ts","./InfinityEffect.ts","./MoveHandler.ts","./MovingZone.ts","./NodeButton.ts","./ObjectPoolManager.ts","./Projectile.ts","./RhythmNote.ts","./RhythmZone.ts","./ScoreLabel.ts","./SoundManager.ts","./TextEffect.ts","./Timer.ts"],(function(){return{setters:[null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null],execute:function(){}}}));

System.register("chunks:///_virtual/MoveHandler.ts",["./rollupPluginModLoBabelHelpers.js","cc","./MovingZone.ts","./GameManager.ts","./RhythmZone.ts"],(function(n){var e,o,t,a,s,i,r,c,u,M,v,h,p;return{setters:[function(n){e=n.inheritsLoose},function(n){o=n.cclegacy,t=n._decorator,a=n.Node,s=n.UITransform,i=n.Vec3,r=n.Vec2,c=n.EventMouse,u=n.Component},function(n){M=n.MovingZone},function(n){v=n.GameManager,h=n.GameState},function(n){p=n.RhythmZone}],execute:function(){var f;o._RF.push({},"9b07871Q6xBUpyBMKJukqI5","MoveHandler",void 0);var d=t.ccclass;n("MoveHandler",d("MoveHandler")(f=function(n){function o(){for(var e,o=arguments.length,t=new Array(o),a=0;a<o;a++)t[a]=arguments[a];return(e=n.call.apply(n,[this].concat(t))||this).parentTrans=null,e}e(o,n);var t=o.prototype;return t.onLoad=function(){this.node.on(a.EventType.MOUSE_MOVE,this.onMouseMove,this),this.node.on(a.EventType.MOUSE_DOWN,this.onMouseDown,this);var n=M.instance;n&&(this.parentTrans=n.node.getComponent(s))},t.onDestroy=function(){this.node.off(a.EventType.MOUSE_MOVE,this.onMouseMove,this),this.node.off(a.EventType.MOUSE_DOWN,this.onMouseDown,this)},t.onMouseMove=function(n){if(v.instance.gameState===h.InGame){var e=n.getUILocation(),o=new i(e.x,e.y,0),t=this.parentTrans.convertToNodeSpaceAR(o),a=new r(t.x,t.y);p.instance.updateMousePos(a)}},t.onMouseDown=function(n){if(v.instance.gameState===h.InGame&&n.getButton()===c.BUTTON_RIGHT){var e=n.getUILocation(),o=new i(e.x,e.y,0),t=this.parentTrans.convertToNodeSpaceAR(o),a=new r(t.x,t.y);M.instance.updateMovePos(a)}},o}(u))||f);o._RF.pop()}}}));

System.register("chunks:///_virtual/MovingZone.ts",["./rollupPluginModLoBabelHelpers.js","cc","./ObjectPoolManager.ts","./Projectile.ts","./GameManager.ts"],(function(t){var e,a,i,r,n,o,s,c,h,l,u,p,f,M,m,g,P;return{setters:[function(t){e=t.applyDecoratedDescriptor,a=t.inheritsLoose,i=t.initializerDefineProperty,r=t.assertThisInitialized,n=t.createClass},function(t){o=t.cclegacy,s=t._decorator,c=t.Node,h=t.Vec2,l=t.Vec3,u=t.math,p=t.v3,f=t.Component},function(t){M=t.ObjectPoolManager},function(t){m=t.Projectile},function(t){g=t.GameManager,P=t.GameState}],execute:function(){var d,_,v,y,b,w,x,z,k,S,R,j,A,D,I,X;o._RF.push({},"0b1e6U9CfFFCqj7BXP6pAHB","MovingZone",void 0);var C=s.ccclass,T=s.property;t("MovingZone",(d=C("MovingZone"),_=T({type:c}),v=T({type:c}),y=T({type:c}),b=T({tooltip:"이동 속도 (초당 픽셀)"}),d(((X=function(t){function e(){for(var e,a=arguments.length,n=new Array(a),o=0;o<a;o++)n[o]=arguments[o];return e=t.call.apply(t,[this].concat(n))||this,i(e,"character",z,r(e)),i(e,"characterSprite",k,r(e)),i(e,"effectRoot",S,r(e)),i(e,"moveSpeed",R,r(e)),e.targetPos=new h(0,0),e._curPos3=new l,e._curPos2=new h,e._dir=new h,e._attackElapsed=0,e._attackInterval=3,e._spawnMinDist=400,e._spawnMaxDist=500,e._aimRadius=40,i(e,"mapMinX",j,r(e)),i(e,"mapMaxX",A,r(e)),i(e,"mapMinY",D,r(e)),i(e,"mapMaxY",I,r(e)),e}a(e,t);var o=e.prototype;return o.onLoad=function(){void 0===e._instance&&(e._instance=this)},o.updateMovePos=function(t){this.targetPos.set(t)},o.startMoving=function(){this.character.setPosition(new l(0,0,0))},o.update=function(t){g.instance.gameState===P.InGame&&(this.characterMovement(t),this.attackHandler(t),this.rotateToTarget(t))},o.rotateToTarget=function(t){var e=this.targetPos,a=this.character.position,i=new l(e.x-a.x,e.y-a.y,0);if(0!==i.lengthSqr()){var r=Math.atan2(i.y,i.x)*(180/Math.PI)-90,n=this.characterSprite.eulerAngles.z,o=this.lerpAngle(n,r,10*t);this.characterSprite.setRotationFromEuler(0,0,o)}},o.lerpAngle=function(t,e,a){var i=(e-t)%360;return i>180?i-=360:i<-180&&(i+=360),t+i*u.clamp01(a)},o.characterMovement=function(t){if(this.character){this._curPos3.set(this.character.position),this._curPos2.set(this._curPos3.x,this._curPos3.y),this._dir.set(this.targetPos.x-this._curPos2.x,this.targetPos.y-this._curPos2.y);var e=this._dir.length();if(e<=.5)this.character.setPosition(p(this.targetPos.x,this.targetPos.y,this._curPos3.z));else{this._dir.multiplyScalar(1/e);var a=this.moveSpeed*t;if(a>=e)this.character.setPosition(p(this.targetPos.x,this.targetPos.y,this._curPos3.z));else{var i=this._curPos3.x+this._dir.x*a,r=this._curPos3.y+this._dir.y*a;this.character.setPosition(p(i,r,this._curPos3.z))}}}},o.attackHandler=function(t){this.character&&this.effectRoot&&(this._attackElapsed+=t,this._attackElapsed<this._attackInterval||(this._attackElapsed=0,this.projectileAttack()))},o.clear=function(){console.log("MovingZone clean called"),this.character.setPosition(new l(0,0,0)),this.targetPos=new h(0,0)},o.projectileAttack=function(){var t=this.character.position,e=Math.random()*Math.PI*2,a=this._spawnMinDist+Math.random()*(this._spawnMaxDist-this._spawnMinDist),i=t.x+Math.cos(e)*a,r=t.y+Math.sin(e)*a,n=p(i,r,t.z),o=Math.random()*Math.PI*2,s=Math.random()*this._aimRadius,c=t.x+Math.cos(o)*s,l=t.y+Math.sin(o)*s,u=M.instance.acquire("projectile",this.effectRoot,n,void 0,!0);if(u){var f=u.getComponent(m);if(f){var g=c-i,P=l-r;f.launch(new h(g,P))}}},o.getRandomPlayerCenterToAround=function(t,e){if(void 0===e&&(e=t/2),!this.character)return new l;var a=this.character.worldPosition,i=Math.random()*Math.PI*2,r=Math.sqrt(Math.random()*(t*t-e*e)+e*e),n=a.x+Math.cos(i)*r,o=a.y+Math.sin(i)*r;return n=u.clamp(n,this.mapMinX,this.mapMaxX),o=u.clamp(o,this.mapMinY,this.mapMaxY),new l(n,o,a.z)},n(e,null,[{key:"instance",get:function(){return this._instance}}]),e}(f))._instance=void 0,z=e((x=X).prototype,"character",[_],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),k=e(x.prototype,"characterSprite",[v],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),S=e(x.prototype,"effectRoot",[y],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),R=e(x.prototype,"moveSpeed",[b],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 200}}),j=e(x.prototype,"mapMinX",[T],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return-800}}),A=e(x.prototype,"mapMaxX",[T],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 800}}),D=e(x.prototype,"mapMinY",[T],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return-450}}),I=e(x.prototype,"mapMaxY",[T],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 450}}),w=x))||w));o._RF.pop()}}}));

System.register("chunks:///_virtual/NodeButton.ts",["./rollupPluginModLoBabelHelpers.js","cc"],(function(e){var t,o,r,n,i,l,a,c,u;return{setters:[function(e){t=e.applyDecoratedDescriptor,o=e.inheritsLoose,r=e.initializerDefineProperty,n=e.assertThisInitialized},function(e){i=e.cclegacy,l=e._decorator,a=e.Color,c=e.Label,u=e.Component}],execute:function(){var s,p,d,f,y,b,h,m,C;i._RF.push({},"527dde3171O14JMuxjtKNzR","NodeButton",void 0);var g=l.ccclass,v=l.property;e("NodeButton",(s=g("NodeButton"),p=v({type:a}),d=v({type:a}),f=v({type:c}),s((h=t((b=function(e){function t(){for(var t,o=arguments.length,i=new Array(o),l=0;l<o;l++)i[l]=arguments[l];return t=e.call.apply(e,[this].concat(i))||this,r(t,"normalColor",h,n(t)),r(t,"selectedColor",m,n(t)),r(t,"text",C,n(t)),t}return o(t,e),t.prototype.onClick=function(){var e=this;this.text.color=this.selectedColor,setTimeout((function(){e.text.color=e.normalColor}),100)},t}(u)).prototype,"normalColor",[p],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),m=t(b.prototype,"selectedColor",[d],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),C=t(b.prototype,"text",[f],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),y=b))||y));i._RF.pop()}}}));

System.register("chunks:///_virtual/ObjectPoolManager.ts",["./rollupPluginModLoBabelHelpers.js","cc"],(function(e){var t,o,r,i,n,a,s,l,c,u,p,f,d;return{setters:[function(e){t=e.applyDecoratedDescriptor,o=e.initializerDefineProperty,r=e.inheritsLoose,i=e.assertThisInitialized,n=e.createForOfIteratorHelperLoose,a=e.createClass},function(e){s=e.cclegacy,l=e._decorator,c=e.Prefab,u=e.director,p=e.NodePool,f=e.instantiate,d=e.Component}],execute:function(){var h,y,_,v,b,g,P,k,w,z,M,m,j,O,F;s._RF.push({},"729531WTIhBvJ7tpxFDS9fo","ObjectPoolManager",void 0);var q=l.ccclass,S=l.property,N=e("PoolPreset",(h=q("PoolPreset"),y=S({tooltip:"이 풀을 식별할 키(중복 불가)"}),_=S({type:c,tooltip:"풀링할 프리팹"}),v=S({tooltip:"씬 로드시 미리 만들어 둘 개수"}),h((P=t((g=function(){o(this,"key",P,this),o(this,"prefab",k,this),o(this,"initialSize",w,this)}).prototype,"key",[y],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return"pool_key"}}),k=t(g.prototype,"prefab",[_],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),w=t(g.prototype,"initialSize",[v],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 0}}),b=g))||b)),D="__poolKey__";e("ObjectPoolManager",(z=q("ObjectPoolManager"),M=S({type:[N],tooltip:"여기에 프리팹과 초기 수량을 등록하세요"}),z(((F=function(e){function t(){for(var t,r=arguments.length,n=new Array(r),a=0;a<r;a++)n[a]=arguments[a];return t=e.call.apply(e,[this].concat(n))||this,o(t,"presets",O,i(t)),t._pools=new Map,t}r(t,e);var s=t.prototype;return s.onLoad=function(){t._instance&&t._instance!==this?this.node.destroy():(t._instance=this,u.addPersistRootNode(this.node),this._registerFromPresets())},s.acquire=function(e,t,o,r,i){void 0===i&&(i=!0);var n,a=this._require(e);return(n=a.pool.size()>0?a.pool.get():this._createNode(e,a)).parent=null!=t?t:this.node,o&&n.setPosition(o),r&&n.setRotation(r),n.active=i,n},s.release=function(e){var t=e[D];if(!t)return console.warn("[ObjectPoolManager] release(): node has no pool key, destroying."),void e.destroy();var o=this._pools.get(t);if(!o)return console.warn("[ObjectPoolManager] release(): unknown pool '"+t+"', destroying."),void e.destroy();e.active=!1,e.removeFromParent(),o.pool.put(e)},s.size=function(e){return this._require(e).pool.size()},s.createdCount=function(e){return this._require(e).created},s.drainAll=function(){for(var e,t=n(this._pools.keys());!(e=t()).done;){var o=e.value;this.drain(o)}},s.drain=function(e){for(var t=this._require(e);t.pool.size()>0;)t.pool.get().destroy()},s._registerFromPresets=function(){for(var e,t=new Set,o=n(this.presets);!(e=o()).done;){var r=e.value;if(r&&r.prefab&&r.key)if(t.has(r.key)||this._pools.has(r.key))console.warn("[ObjectPoolManager] duplicated key '"+r.key+"', skipping.");else{t.add(r.key);var i={preset:r,pool:new p,created:0};this._pools.set(r.key,i);for(var a=Math.max(0,0|r.initialSize),s=0;s<a;s++){var l=this._createNode(r.key,i);i.pool.put(l)}}}},s._require=function(e){var t=this._pools.get(e);if(!t)throw new Error("[ObjectPoolManager] Pool '"+e+"' not found.");return t},s._createNode=function(e,t){var o=f(t.preset.prefab);return o[D]=e,o.active=!1,t.created+=1,o},a(t,null,[{key:"instance",get:function(){return this._instance||console.warn("[ObjectPoolManager] instance is not created yet."),this._instance}}]),t}(d))._instance=null,O=t((j=F).prototype,"presets",[M],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),m=j))||m));s._RF.pop()}}}));

System.register("chunks:///_virtual/Projectile.ts",["./rollupPluginModLoBabelHelpers.js","cc","./GameManager.ts"],(function(i){var t,e,n,o,r,s,c,a,l,p,u;return{setters:[function(i){t=i.applyDecoratedDescriptor,e=i.inheritsLoose,n=i.initializerDefineProperty,o=i.assertThisInitialized},function(i){r=i.cclegacy,s=i._decorator,c=i.v3,a=i.Vec2,l=i.Component},function(i){p=i.GameManager,u=i.GameState}],execute:function(){var h,d,f,_,v;r._RF.push({},"2596bv9kj9EjIygkC9Hxx52","Projectile",void 0);var g=s.ccclass,y=s.property;i("Projectile",(h=g("Projectile"),d=y({tooltip:"이동 속도 (unit/s)"}),h((v=t((_=function(i){function t(){for(var t,e=arguments.length,r=new Array(e),s=0;s<e;s++)r[s]=arguments[s];return t=i.call.apply(i,[this].concat(r))||this,n(t,"speed",v,o(t)),t._direction=c(0,0,0),t._isMoving=!1,t}e(t,i);var r=t.prototype;return r.launch=function(i,t){void 0!==t&&(this.speed=t),i instanceof a?this._direction.set(i.x,i.y,0):this._direction.set(i),this._direction.length()>0&&this._direction.normalize(),this._isMoving=!0},r.stop=function(){this._isMoving=!1},r.update=function(i){if(p.instance.gameState===u.InGame&&this._isMoving){var t=this.speed*i,e=this.node.position,n=c(e.x+this._direction.x*t,e.y+this._direction.y*t,e.z+this._direction.z*t);this.node.setPosition(n)}},t}(l)).prototype,"speed",[d],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 400}}),f=_))||f));r._RF.pop()}}}));

System.register("chunks:///_virtual/RhythmNote.ts",["./rollupPluginModLoBabelHelpers.js","cc","./RhythmZone.ts","./ObjectPoolManager.ts","./GameManager.ts","./SoundManager.ts","./TextEffect.ts"],(function(t){var e,n,i,o,s,a,r,c,l,h,u,p,f,y,b,d,g,m,N,w,T;return{setters:[function(t){e=t.applyDecoratedDescriptor,n=t.inheritsLoose,i=t.initializerDefineProperty,o=t.assertThisInitialized},function(t){s=t.cclegacy,a=t._decorator,r=t.Sprite,c=t.UITransform,l=t.Label,h=t.Tween,u=t.tween,p=t.Vec3,f=t.Color,y=t.Vec2,b=t.Component},function(t){d=t.KEY},function(t){g=t.ObjectPoolManager},function(t){m=t.GameManager},function(t){N=t.SoundManager,w=t.Sfx},function(t){T=t.TextEffect}],execute:function(){var z,S,M,x,v,R,C,P,E,F,H;s._RF.push({},"4436bIiUURLNrWG/TgiYqsf","RhythmNote",void 0);var L=a.ccclass,_=a.property;t("RhythmNote",(z=L("RhythmNote"),S=_({type:r}),M=_({type:c}),x=_({type:c}),v=_({type:l}),z((P=e((C=function(t){function e(){for(var e,n=arguments.length,s=new Array(n),a=0;a<n;a++)s[a]=arguments[a];return e=t.call.apply(t,[this].concat(s))||this,i(e,"inNoteSprite",P,o(e)),i(e,"outNoteTs",E,o(e)),i(e,"inNoteTs",F,o(e)),i(e,"label",H,o(e)),e.size=100,e.isMatch=!1,e}n(e,t);var s=e.prototype;return s.run=function(t,e,n){var i=this;if(this.inNoteSprite&&this.outNoteTs&&this.inNoteTs){var o;if(this.isMatch=!1,this.size=n,h.stopAllByTarget(this.inNoteTs.node),this.inNoteSprite.color=this.switchKeyColor(e),this.label)this.label.string=null!=(o=d[e])?o:"";var s=Math.max(1,0|n);this.outNoteTs.setContentSize(s,s),this.inNoteTs.setContentSize(s,s),this.outNoteTs.node.setScale(1,1,1),this.inNoteTs.node.setScale(0,0,1),u(this.inNoteTs.node).to(Math.max(0,t),{scale:new p(1,1,1)},{easing:"cubicOut"}).call((function(){i.isMatch||(m.instance.hitHp(5),g.instance.acquire("text",i.node.parent,new p(i.node.position.x,i.node.position.y,i.node.position.z)).getComponent(T).show("-5 HP"),i.clean())})).start()}},s.switchKeyColor=function(t){var e=180;switch(t){case d.Q:return new f(255,64,64,e);case d.W:return new f(64,220,120,e);case d.E:return new f(80,140,255,e);case d.R:return new f(255,220,80,e);default:return new f(255,255,255,e)}},s.clean=function(){g.instance.release(this.node)},s.match=function(){this.isMatch=!0,m.instance.plusScore(10),N.instance.playSfx(w.HitQ),g.instance.acquire("bomb",this.node.parent,new p(this.node.position.x,this.node.position.y,this.node.position.z)),this.clean()},s.checkMatch=function(t){var e=new y(this.node.position.x,this.node.position.y).subtract(t).length();return e<=this.size?(this.match(),console.log("match",e.toFixed(2),this.size),!0):(console.log("no match",e.toFixed(2),this.size),!1)},e}(b)).prototype,"inNoteSprite",[S],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),E=e(C.prototype,"outNoteTs",[M],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),F=e(C.prototype,"inNoteTs",[x],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),H=e(C.prototype,"label",[v],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),R=C))||R));s._RF.pop()}}}));

System.register("chunks:///_virtual/RhythmZone.ts",["./rollupPluginModLoBabelHelpers.js","cc","./GameManager.ts","./ObjectPoolManager.ts","./ComboEffect.ts","./RhythmNote.ts","./MovingZone.ts"],(function(t){var e,n,i,o,s,r,a,l,c,h,u,p,f,d,v,m,g,y,P,b,C,k,S,M;return{setters:[function(t){e=t.applyDecoratedDescriptor,n=t.inheritsLoose,i=t.initializerDefineProperty,o=t.assertThisInitialized,s=t.createForOfIteratorHelperLoose,r=t.createClass},function(t){a=t.cclegacy,l=t._decorator,c=t.Label,h=t.Node,u=t.SpriteFrame,p=t.Sprite,f=t.Vec2,d=t.KeyCode,v=t.input,m=t.Input,g=t.Vec3,y=t.Component},function(t){P=t.GameManager,b=t.GameState},function(t){C=t.ObjectPoolManager},function(t){k=t.ComboEffect},function(t){S=t.RhythmNote},function(t){M=t.MovingZone}],execute:function(){var R,w,E,I,O,T,L,_,D,Z,K,W,N,Q,z,A,Y,j;a._RF.push({},"637d0nIwO9OiI0ha1JOXGlD","RhythmZone",void 0);var x=l.ccclass,F=l.property,G=t("PatternType",function(t){return t[t.Sun=0]="Sun",t[t.Moon=1]="Moon",t[t.Star=2]="Star",t}({})),q=t("KEY",function(t){return t[t.Q=0]="Q",t[t.W=1]="W",t[t.E=2]="E",t[t.R=3]="R",t}({})),H=t("ConceptType",function(t){return t[t.SunConcept=0]="SunConcept",t[t.MoonConcept=1]="MoonConcept",t[t.StarConcept=2]="StarConcept",t}({}));t("RhythmZone",(R=x("RhythmZone"),w=F({type:c}),E=F({type:h}),I=F({type:[u]}),O=F({type:u}),T=F({type:p}),L=F({type:[p]}),_=F({type:h}),R(((j=function(t){function e(){for(var e,n,s,r=arguments.length,a=new Array(r),l=0;l<r;l++)a[l]=arguments[l];return(s=t.call.apply(t,[this].concat(a))||this).savedPattern=G.Star,s.patterns=[],s.dropNodes=[],s.concepts=void 0,s._conceptText=((e={})[H.SunConcept]="극딜 (해 컨정션) 박는거다요",e[H.MoonConcept]="스턴 (달 컨정션) 거는거다요",e[H.StarConcept]="치유 (별 컨정션) 하는거다요",e),s.timer=0,s.clearTime=0,i(s,"lblConceptInfo",K,o(s)),i(s,"comboZone",W,o(s)),i(s,"imgs",N,o(s)),i(s,"swapImg",Q,o(s)),i(s,"saved",z,o(s)),i(s,"icons",A,o(s)),i(s,"effectsZone",Y,o(s)),s.mousePos=new f,s.nodeList=((n={})[q.Q]=[],n[q.W]=[],n[q.E]=[],n[q.R]=[],n),s.skillPointer=0,s.isComboing=!1,s.keyOf=function(t){switch(t){case G.Sun:return q.Q;case G.Moon:return q.W;case G.Star:return q.E;default:return q.Q}},s.patternOf=function(t){switch(t){case q.Q:return G.Sun;case q.W:return G.Moon;case q.E:return G.Star;case q.R:default:return}},s.targetOf=function(t){switch(t){case H.SunConcept:return G.Sun;case H.MoonConcept:return G.Moon;case H.StarConcept:return G.Star;default:return G.Sun}},s.imgOf=function(t){return void 0===t?s.swapImg:s.imgs[t]},s.keyCodeToKey=function(t){switch(t){case d.KEY_Q:return q.Q;case d.KEY_W:return q.W;case d.KEY_E:return q.E;case d.KEY_R:return q.R;default:return null}},s}n(e,t);var a=e.prototype;return a.onLoad=function(){void 0===e._instance&&(console.log("RhythmZone onLoad"),e._instance=this),v.on(m.EventType.KEY_DOWN,this.onKeyDown,this)},a.onDestroy=function(){v.off(m.EventType.KEY_DOWN,this.onKeyDown,this)},a.onKeyDown=function(t){if(P.instance.gameState===b.InGame){var e=this.keyCodeToKey(t.keyCode);if(null!==e){console.log("Key pressed: ",q[e],this.nodeList[e].length,"Mouse Pos:",this.mousePos);for(var n=0;n<this.nodeList[e].length;n++){var i=this.nodeList[e][n];if(i)if(i.checkMatch(this.mousePos)){e===q.R?this.swapSavedPattern():this.usedSkill(e),this.nodeList[e].splice(n,1);break}}}}},a.swapSavedPattern=function(){if(!(this.skillPointer>=this.patterns.length)){var t=this.patterns[this.skillPointer];this.patterns[this.skillPointer]=this.savedPattern,this.savedPattern=t,this.updateInfo()}},a.usedSkill=function(t){this.skillPointer>=this.patterns.length||(this.skillPointer<this.patterns.length-1&&this.patterns[this.skillPointer]===this.patterns[this.skillPointer+1]&&(t===q.Q&&this.patterns[this.skillPointer]===G.Sun&&(this.icons[this.skillPointer].node.active=!1,this.skillPointer++),t===q.W&&this.patterns[this.skillPointer]===G.Moon&&(this.icons[this.skillPointer].node.active=!1,this.skillPointer++),t===q.E&&this.patterns[this.skillPointer]===G.Star&&(this.icons[this.skillPointer].node.active=!1,this.skillPointer++)),this.icons[this.skillPointer].node.active=!1,this.skillPointer++,console.log("Skill used, pointer at ",this.skillPointer," / ",this.patterns.length),this.skillPointer===this.patterns.length&&this.addCombo())},a.addCombo=function(){console.log("All skills used up!");var t=P.instance.addConceptCombo();C.instance.acquire("combo",this.comboZone,new g(-11.966,-147.811,0)).getComponent(k).onCombo(t),this.isComboing=!0},a.resetRhythm=function(){var t;console.log("RhythmZone startRhythm"),this.timer=0,this.skillPointer=0,!1===this.isComboing?P.instance.resetCombo():this.isComboing=!1;for(var e,n=s(this.icons);!(e=n()).done;){e.value.node.active=!0}this.randomPattern(),this.updateInfo(),this.generateDropNodes(),this.nodeList=((t={})[q.Q]=[],t[q.W]=[],t[q.E]=[],t[q.R]=[],t)},a.noAdjDup=function(t){for(var e=1;e<t.length;e++)if(t[e]===t[e-1])return!1;return!0},a.noTwoTypeAlternation=function(t){for(var e=0;e+3<t.length;e++){var n=t[e],i=t[e+1],o=t[e+2],s=t[e+3];if(n!==i&&n===o&&i===s)return!1}return!0},a.randomPattern=function(){for(var t=this,e=[],n=0,i=[G.Sun,G.Moon,G.Star];n<i.length;n++){var o=i[n];e.push(o,o)}var s=e.findIndex((function(e){return e===t.savedPattern}));-1!==s&&e.splice(s,1);for(var r=[],a=0;a<50;a++){for(var l=(r=[].concat(e)).length-1;l>0;l--){var c=Math.floor(Math.random()*(l+1)),h=[r[c],r[l]];r[l]=h[0],r[c]=h[1]}if(r[0]===this.savedPattern){var u=[r[1],r[0]];r[0]=u[0],r[1]=u[1]}var p=[this.savedPattern].concat(r);if(this.noAdjDup(p)&&this.noTwoTypeAlternation(p))break}this.patterns=r;var f=[H.SunConcept,H.MoonConcept,H.StarConcept];this.concepts=f[Math.floor(Math.random()*f.length)],console.log("savedPattern: "+G[this.savedPattern]+" | patterns: "+this.patterns.map((function(t){return G[t]})).join(", "))},a.updateInfo=function(){var t;if(this.lblConceptInfo.string=null!=(t=this._conceptText[this.concepts])?t:"",this.saved&&(this.saved.spriteFrame=this.imgOf(this.savedPattern)),this.icons&&this.icons.length>0)for(var e=0;e<this.icons.length;e++){var n=this.icons[e],i=this.patterns[e];n&&(n.spriteFrame=void 0!==i?this.imgOf(i):null)}},a.generateDropNodes=function(){for(var t=this,e=this.patterns.slice(),n=this.savedPattern,i=this.concepts,o=this.targetOf(i),s=[],r=2,a=P.instance.patternDelay,l=function(t,e){s.push({timing:r,key:t,pattern:e}),r+=a},c=function(){var e=t.keyOf(o),n=[q.W,q.Q,q.E];return n.splice(n.indexOf(e),1),n.unshift(e),n}(),h=0,u=function(t){return t===q.Q||t===q.W||q.E,t},p=function(){var t=c[h%c.length];return h++,u(t)},f=!1,d=0,v=0;0<e.length&&v++<100;)if(!f&&0===d&&n===o&&e.length>=2&&e[0]!==o&&e[1]===o){l(q.R,void 0);var m=e[0];e[0]=n,n=m;var g=this.keyOf(o);l(u(g),o),e.splice(0,2),f=!0,d=2}else if(!f&&0===d&&n!==o&&e.length>=1&&e[0]===o){l(q.R,void 0);var y=e[0];e[0]=n,n=y}else{var b=e[0],C=void 0;if(d>0&&b===o){if(n!==o&&e.length>=1){l(q.R,void 0);var k=e[0];e[0]=n,n=k;continue}C=p(),d--}else C=p(),d>0&&d--;l(C,b),e.splice(0,1)}for(;e.length>0;){var S=e.shift();l(p(),S)}this.dropNodes=s,this.clearTime=r+3},a.update=function(t){if(P.instance.gameState===b.InGame){if(this.timer+=t,this.dropNodes[0]&&this.dropNodes[0].timing<=this.timer){var e=this.dropNodes.shift(),n=C.instance.acquire("note");n.setParent(this.effectsZone);var i=n.getComponent(S);this.nodeList[e.key].push(i),n.setWorldPosition(M.instance.getRandomPlayerCenterToAround(300,150)),n.setSiblingIndex(0),n.getComponent(S).run(4,e.key,100)}this.timer>=this.clearTime&&this.resetRhythm()}},a.clear=function(){for(var t in console.log("RhythmZone clean called"),this.nodeList){for(var e,n=s(this.nodeList[t]);!(e=n()).done;){var i=e.value;C.instance.release(i.node)}this.nodeList[t]=[]}},a.updateMousePos=function(t){this.mousePos=t},r(e,null,[{key:"instance",get:function(){return this._instance}}]),e}(y))._instance=void 0,K=e((Z=j).prototype,"lblConceptInfo",[w],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),W=e(Z.prototype,"comboZone",[E],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),N=e(Z.prototype,"imgs",[I],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),Q=e(Z.prototype,"swapImg",[O],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),z=e(Z.prototype,"saved",[T],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),A=e(Z.prototype,"icons",[L],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),Y=e(Z.prototype,"effectsZone",[_],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),D=Z))||D));a._RF.pop()}}}));

System.register("chunks:///_virtual/ScoreLabel.ts",["./rollupPluginModLoBabelHelpers.js","cc"],(function(t){var e,n,r,o,i,l,a,u,c;return{setters:[function(t){e=t.applyDecoratedDescriptor,n=t.inheritsLoose,r=t.initializerDefineProperty,o=t.assertThisInitialized},function(t){i=t.cclegacy,l=t._decorator,a=t.Label,u=t.tween,c=t.Component}],execute:function(){var s,p,f,h,b,_,d,v,S;i._RF.push({},"5f222SvqM9FNZOyLcmiCvvV","ScoreLabel",void 0);var I=l.ccclass,w=l.property;t("ScoreLabel",(s=I("ScoreLabel"),p=w({type:a}),f=w({tooltip:"숫자가 목표까지 오르는 데 걸리는 시간(초)"}),h=w({tooltip:"반올림해서 정수로 표시"}),s((d=e((_=function(t){function e(){for(var e,n=arguments.length,i=new Array(n),l=0;l<n;l++)i[l]=arguments[l];return e=t.call.apply(t,[this].concat(i))||this,r(e,"lblScore",d,o(e)),r(e,"duration",v,o(e)),r(e,"roundToInt",S,o(e)),e._currentValue=0,e._tweenInst=null,e}n(e,t);var i=e.prototype;return i.updateScore=function(t){var e=this;if(this.lblScore){this._tweenInst&&(this._tweenInst.stop(),this._tweenInst=null);var n={v:this._currentValue};this._tweenInst=u(n).to(this.duration,{v:t},{easing:"quadOut",onUpdate:function(){var t=e.roundToInt?Math.round(n.v):n.v;e._currentValue=t,e.lblScore.string=e._format(t)}}).call((function(){e._currentValue=t,e.lblScore.string=e._format(t),e._tweenInst=null})).start()}},i._format=function(t){return this.roundToInt?Math.round(t).toLocaleString():t.toLocaleString()},i.setImmediate=function(t){this._tweenInst&&(this._tweenInst.stop(),this._tweenInst=null),this._currentValue=t,this.lblScore&&(this.lblScore.string=this._format(t))},e}(c)).prototype,"lblScore",[p],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),v=e(_.prototype,"duration",[f],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return.7}}),S=e(_.prototype,"roundToInt",[h],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!0}}),b=_))||b));i._RF.pop()}}}));

System.register("chunks:///_virtual/SoundManager.ts",["./rollupPluginModLoBabelHelpers.js","cc"],(function(t){var o,n,i,e,a,s,l,r,u,c,g,m,p;return{setters:[function(t){o=t.applyDecoratedDescriptor,n=t.inheritsLoose,i=t.initializerDefineProperty,e=t.assertThisInitialized,a=t.createClass},function(t){s=t.cclegacy,l=t._decorator,r=t.Node,u=t.AudioSource,c=t.AudioClip,g=t.tween,m=t.Component,p=t.instantiate}],execute:function(){var f,h,v,d,b,_,y,C,x,B,M,S;s._RF.push({},"8cf2eIC0wBPoaBCigDVKA9p","SoundManager",void 0);var w=l.ccclass,N=l.property,P=t("Sfx",function(t){return t[t.HitQ=0]="HitQ",t[t.HitW=1]="HitW",t[t.HitE=2]="HitE",t[t.HitR=3]="HitR",t}({})),z=t("Bgm",function(t){return t[t.MainMenu=0]="MainMenu",t[t.InGame=1]="InGame",t}({}));t("SoundManager",(f=w("SoundManager"),h=N({type:r}),v=N({type:[u],tooltip:"SFX용 AudioSource 템플릿 (Sfx Enum 순서대로)"}),d=N({type:[c],tooltip:"BGM 클립들 (Bgm Enum 순서대로)"}),b=N({tooltip:"BGM 기본 볼륨 (0~1)"}),f(((S=function(t){function o(){for(var o,n=arguments.length,a=new Array(n),s=0;s<n;s++)a[s]=arguments[s];return(o=t.call.apply(t,[this].concat(a))||this).sfxPools=new Map,o.poolSize=3,i(o,"sfxRoot",C,e(o)),i(o,"sfx",x,e(o)),i(o,"bgmClips",B,e(o)),i(o,"bgmVolume",M,e(o)),o._bgmNodes=[],o._activeBgm=null,o._activeChan=0,o._bgmFadingTween=void 0,o}n(o,t);var s=o.prototype;return s.onLoad=function(){o._instance||(o._instance=this),this.sfxRoot||(this.sfxRoot=this.node)},s.start=function(){this.initializeSfxPools(),this.initializeBgmChannels(),o.instance.playBgm(z.MainMenu)},s.initializeSfxPools=function(){for(var t in P)if(!isNaN(Number(t))){var o=Number(t);this.sfxPools.set(o,this.createAudioSourcePool(this.sfx[o],this.poolSize))}},s.createAudioSourcePool=function(t,o){for(var n=this,i=[],e=function(){var o=p(t.node),e=o.getComponent(u);n.sfxRoot.addChild(o),o.on(u.EventType.ENDED,(function(){return n.returnToPool(e,t)})),i.push(e)},a=0;a<o;a++)e();return i},s.returnToPool=function(t,o){var n,i=this.sfx.indexOf(o);-1!==i&&(null==(n=this.sfxPools.get(i))||n.push(t))},s.playSfx=function(t){var o=this.sfxPools.get(t);if(o){var n=o.find((function(t){return!t.playing}));n&&n.play()}},s.initializeBgmChannels=function(){for(var t=0;t<2;t++){var o=new r("BGM_Channel_"+t),n=o.addComponent(u);n.loop=!0,n.volume=0,this.sfxRoot.addChild(o),this._bgmNodes.push(n)}},s.playBgm=function(t,o){var n=this;void 0===o&&(o=.5),console.log("[SoundManager] playBgm:",z[t]);var i=this.bgmClips[t];if(!i)return console.log("3"),void console.log("[SoundManager] BGM clip not found for "+z[t]);console.log("1");var e=this._activeChan,a=1^this._activeChan,s=this._bgmNodes[e],l=this._bgmNodes[a];console.log("2",a,this._bgmNodes),this._bgmFadingTween&&this._bgmFadingTween.stop(),console.log("3"),l.stop(),console.log("4"),l.clip=i,l.volume=0,l.play(),console.log("call play");var r=Math.max(0,o);if(0===r)null==s||s.stop(),l.volume=this.bgmVolume;else{var u={t:0},c=s?s.volume:0,m=this.bgmVolume;this._bgmFadingTween=g(u).to(r,{t:1},{onUpdate:function(){s&&s.playing&&(s.volume=c*(1-u.t)),l.volume=m*u.t},onComplete:function(){s&&s.playing&&s.stop(),l.volume=m,n._bgmFadingTween=void 0}}).start()}console.log("fade process"),this._activeChan=a,this._activeBgm=t},s.pauseBgm=function(){var t=this._bgmNodes[this._activeChan];t.playing&&t.pause()},s.resumeBgm=function(){var t=this._bgmNodes[this._activeChan];!t.playing&&t.clip&&t.play()},s.stopBgm=function(t){void 0===t&&(t=.3);var o=this._bgmNodes[this._activeChan];if(o.playing){var n=Math.max(0,t),i=o.volume,e={t:0};this._bgmFadingTween=g(e).to(n,{t:1},{onUpdate:function(){o.volume=i*(1-e.t)},onComplete:function(){o.stop(),o.volume=0}}).start(),this._activeBgm=null}},s.setBgmVolume=function(t){this.bgmVolume=Math.max(0,Math.min(1,t));var o=this._bgmNodes[this._activeChan];o.playing&&(o.volume=this.bgmVolume)},a(o,[{key:"currentBgm",get:function(){return this._activeBgm}}],[{key:"instance",get:function(){return this._instance}}]),o}(m))._instance=void 0,C=o((y=S).prototype,"sfxRoot",[h],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),x=o(y.prototype,"sfx",[v],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),B=o(y.prototype,"bgmClips",[d],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),M=o(y.prototype,"bgmVolume",[b],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return.2}}),_=y))||_));s._RF.pop()}}}));

System.register("chunks:///_virtual/TextEffect.ts",["./rollupPluginModLoBabelHelpers.js","cc","./ObjectPoolManager.ts"],(function(e){var t,i,o,n,a,r,l,s,c,u,p,f,h,b;return{setters:[function(e){t=e.applyDecoratedDescriptor,i=e.inheritsLoose,o=e.initializerDefineProperty,n=e.assertThisInitialized},function(e){a=e.cclegacy,r=e._decorator,l=e.Label,s=e.UIOpacity,c=e.Vec3,u=e.Tween,p=e.tween,f=e.v3,h=e.Component},function(e){b=e.ObjectPoolManager}],execute:function(){var y,d,m,T,g,w,z,O,v,I,P,S,_,x,A,C,L,D,E,M,j,k,B;a._RF.push({},"a0d41Zs9JhLSIz+3u2YoT5p","TextEffect",void 0);var F=r.ccclass,R=r.property;e("TextEffect",(y=F("TextEffect"),d=R({type:l}),m=R({type:s}),T=R({tooltip:"스케일 인 시작값"}),g=R({tooltip:"스케일 인 종료값"}),w=R({tooltip:"스케일 인 시간(초)"}),z=R({tooltip:"페이드 인 시간(초)"}),O=R({tooltip:"보여줄 유지 시간(초)"}),v=R({tooltip:"페이드 아웃 시간(초)"}),I=R({tooltip:"페이드 아웃과 함께 위로 이동할 거리"}),P=R({tooltip:"상승 이동 시간(초, 보통 fadeOutTime과 동일)"}),y((x=t((_=function(e){function t(){for(var t,i=arguments.length,a=new Array(i),r=0;r<i;r++)a[r]=arguments[r];return t=e.call.apply(e,[this].concat(a))||this,o(t,"label",x,n(t)),o(t,"opacity",A,n(t)),o(t,"startScale",C,n(t)),o(t,"endScale",L,n(t)),o(t,"scaleInTime",D,n(t)),o(t,"fadeInTime",E,n(t)),o(t,"holdTime",M,n(t)),o(t,"fadeOutTime",j,n(t)),o(t,"riseOffset",k,n(t)),o(t,"riseTime",B,n(t)),t._basePos=new c,t}i(t,e);var a=t.prototype;return a.onLoad=function(){this.opacity||(this.opacity=this.node.getComponent(s)||this.node.addComponent(s)),this.label||(this.label=this.node.getComponent(l))},a.onDisable=function(){this.stopAll()},a.stopAll=function(){u.stopAllByTarget(this.node),this.opacity&&u.stopAllByTarget(this.opacity),this.unscheduleAllCallbacks()},a.show=function(e){var t=this;if(this.label&&this.opacity){this.stopAll(),this.label.string=e,this._basePos.set(this.node.position),this.node.setScale(this.startScale,this.startScale,1),this.node.setPosition(this._basePos),this.opacity.opacity=0,p(this.node).to(this.scaleInTime,{scale:f(this.endScale,this.endScale,1)},{easing:"backOut"}).start(),p(this.opacity).to(this.fadeInTime,{opacity:255}).start();var i=Math.max(this.scaleInTime,this.fadeInTime)+this.holdTime;this.scheduleOnce((function(){var e=new c(t._basePos.x+t.riseOffset.x,t._basePos.y+t.riseOffset.y,t._basePos.z+t.riseOffset.z);p(t.opacity).to(t.fadeOutTime,{opacity:0}).start(),p(t.node).to(t.riseTime,{position:e}).call((function(){b.instance.release(t.node)})).start()}),i)}},t}(h)).prototype,"label",[d],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),A=t(_.prototype,"opacity",[m],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),C=t(_.prototype,"startScale",[T],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 0}}),L=t(_.prototype,"endScale",[g],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 1}}),D=t(_.prototype,"scaleInTime",[w],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return.25}}),E=t(_.prototype,"fadeInTime",[z],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return.18}}),M=t(_.prototype,"holdTime",[O],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return.6}}),j=t(_.prototype,"fadeOutTime",[v],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return.25}}),k=t(_.prototype,"riseOffset",[I],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return new c(0,20,0)}}),B=t(_.prototype,"riseTime",[P],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return.25}}),S=_))||S));a._RF.pop()}}}));

System.register("chunks:///_virtual/Timer.ts",["./rollupPluginModLoBabelHelpers.js","cc","./MovingZone.ts","./RhythmZone.ts","./GameManager.ts","./SoundManager.ts"],(function(e){var t,i,n,r,a,o,s,c,u,l,m,f,h,p;return{setters:[function(e){t=e.applyDecoratedDescriptor,i=e.inheritsLoose,n=e.initializerDefineProperty,r=e.assertThisInitialized},function(e){a=e.cclegacy,o=e._decorator,s=e.Label,c=e.Component},function(e){u=e.MovingZone},function(e){l=e.RhythmZone},function(e){m=e.GameManager,f=e.GameState},function(e){h=e.SoundManager,p=e.Bgm}],execute:function(){var g,y,v,d,M;a._RF.push({},"f2fce/F7fJBs59ixf67u6+f","Timer",void 0);var T=o.ccclass,b=o.property;e("Timer",(g=T("Timer"),y=b({type:s}),g((M=t((d=function(e){function t(){for(var t,i=arguments.length,a=new Array(i),o=0;o<i;o++)a[o]=arguments[o];return t=e.call.apply(e,[this].concat(a))||this,n(t,"lblTimer",M,r(t)),t.time=0,t}i(t,e);var a=t.prototype;return a.runTimer=function(e){this.node.active=!0,this.time=e},a.update=function(e){if(this.time-=e,this.time<=0)return this.node.active=!1,this.time=0,u.instance.startMoving(),l.instance.resetRhythm(),h.instance.playBgm(p.InGame),void(m.instance.gameState=f.InGame);this.lblTimer.string=Math.ceil(this.time).toString()},t}(c)).prototype,"lblTimer",[y],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),v=d))||v));a._RF.pop()}}}));

(function(r) {
  r('virtual:///prerequisite-imports/main', 'chunks:///_virtual/main'); 
})(function(mid, cid) {
    System.register(mid, [cid], function (_export, _context) {
    return {
        setters: [function(_m) {
            var _exportObj = {};

            for (var _key in _m) {
              if (_key !== "default" && _key !== "__esModule") _exportObj[_key] = _m[_key];
            }
      
            _export(_exportObj);
        }],
        execute: function () { }
    };
    });
});